<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Бримчица - магазин за ръчно изработени плетива</title>
    <th:block th:replace="~{fragments/headForAdminPanel}"></th:block>
</head>
<body>

<a th:href="@{/}" class="btn btn-primary"><i class="material-icons"></i> <span>Начална страница</span></a>

<div class="container">
    <div class="table-responsive">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-sm-8"><h2>Детайли за всички предлагани <b>Продукти</b></h2></div>
                </div>
            </div>
            <table class="table table-striped table-hover table-bordered">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Име</th>
                    <th>Описание</th>
                    <th>Цена</th>
                    <th>Категория</th>
                    <th>Действие</th>
                </tr>
                </thead>
                <tbody th:each="product : ${allProducts}"
                       th:object="${product}">
                <tr>
                    <td th:text="*{id}"></td>
                    <td th:text="*{name}"></td>
                    <td th:text="*{description}"></td>
                    <td th:text="*{price}"></td>
                    <td th:text="*{category.name}"></td>

                    <td>
                        <a th:href="@{/product/edit/{id}(id = *{id})}" class="edit" title="Edit" data-toggle="tooltip">
                            <i class="material-icons">&#xE254;</i></a>
                        <a th:href="@{/product/delete/{id}(id = *{id})}" class="delete" title="Delete" data-toggle="tooltip">
                            <i class="material-icons">&#xE872;</i></a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<div class="container">
    <div class="table-wrapper">
        <div class="table-title">
            <div class="row">
                <div class="col-sm-8">
                    <h2>Детайли за всички активни <b>Поръчки</b></h2>
                </div>
            </div>
        </div>
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th>№</th>
                <th>Клиент</th>
                <th>Дата на поръчка</th>
                <th>Статус</th>
                <th>Обща Сума</th>
                <th>Действие</th>
            </tr>
            </thead>
            <tbody class="border-primary" th:each="order : ${allOpenOrders}"
                   th:object="${order}">
            <tr style="background-color: beige">
                <th th:text="*{id}"></th>
                <td th:text="|*{client.firstName} *{client.lastName}|"></td>
                <td th:text="*{dateOrdered}"></td>
                <td th:text="*{orderStatus}"></td>
                <td th:text="|*{orderSum} лв.|"></td>
                <td><a th:href="@{/order/close/{id}(id = *{id})}" class="view" title="Close Order" data-toggle="tooltip"><i class="material-icons">&#xE5C8;</i></a>
                </td>
            </tr>
            <tr>
                <th></th>
                <th colspan="2">Име на продукта</th>
                <th>Количество</th>
                <th >Единична Цена</th>
                <th>Сума</th>
            </tr>
            <tr th:each="prod : *{orderedProducts}">
                <td></td>
                <td colspan="2" th:text="${prod.name}"></td>
                <td th:text="${prod.quantity}"></td>
                <td th:text="${prod.price}"></td>
                <td th:text="${prod.sum}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="container">
    <div class="table-responsive">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-sm-8"><h2>Всички <b>Съобщения</b></h2></div>
                </div>
            </div>
            <table class="table table-striped table-hover table-bordered">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Съдържание</i></th>
                    <th>Автор</th>
                    <th>Действие</th>
                </tr>
                </thead>
                <tbody th:each="messages : ${allMessages}"
                       th:object="${messages}">
                <tr>
                    <td th:text="*{id}"></td>
                    <td th:text="*{description}"></td>
                    <td th:text="|*{author.firstName} *{author.lastName}|">Автор</td>

                    <td>
                        <a th:href="@{/message/delete/{id}(id = *{id})}" class="delete" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>



</body>
</html>